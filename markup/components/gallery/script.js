!function(a){"use strict";a(function(){a.fn.gallery=function(b){var c={className:"b-gallery",effect:"slide"};return b=a.extend({},c,b||{}),this.each(function(){function c(){m.append(o),o.append(p),p.width(100*q+"%"),l=a('<nav class="'+b.className+'__nav"></nav>'),m.append(l),n.each(function(c){var d=a(this),e=a('<div class="'+b.className+'__i" data-index="'+c+'"></div>'),f=a('<a href="#" class="'+b.className+'__nav__i" data-index="'+c+'"></a>');e.width(100/q+"%"),e.append(d),p.append(e),l.append(f)}),l.find("a:first").addClass("i-active"),k=m.find("."+b.className+"__i")}function d(a){l.find(".i-active").removeClass("i-active"),a.addClass("i-active")}function e(c){var d=100*c;if("slide"===b.effect)return void p.css({marginLeft:-d+"%"});if("scale"===b.effect){var e;return k.each(function(){var b=a(this);b.data("index")===c&&(e=b)}),k.filter(".i-scale").removeClass("i-scale"),e.prev().addClass("i-scale"),void p.css({marginLeft:-d+"%"})}}function f(){var a=l.children(".i-active").next().length?l.children(".i-active").next():l.children("a:first");a.click()}function g(b){b.preventDefault();var c=a(b.target),f=c.data("index");c.hasClass("i-active")||(d(c),e(f))}function h(){f()}function i(){l.delegate("."+b.className+"__nav__i","click",g),o.delegate("img","click",h)}function j(){c(),i()}var k,l,m=a(this),n=m.find("img"),o=a('<div class="'+b.className+'__images"></div>'),p=a('<div class="'+b.className+'__belt"></div>'),q=n.length;j()})},a(".b-gallery").gallery({effect:"scale"})})}(jQuery);